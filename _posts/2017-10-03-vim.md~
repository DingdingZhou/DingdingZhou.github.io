---
layout:     post
title:      "vim"
subtitle:   "跳转"
date:       2017-10-03 12:00:00
author:     "Dingding"
header-img: "img/post/thrift-header.jpg"
header-mask: 0.3
catalog:    true
tags:
    - vi,vim
---

## 基本

h j k l : 这四个键前面都可以加数字,表示移动的次数

## 行
* ^ : 行首
* $ : 行尾
* G : 末行
* nG : n行
* gg : 首行

## 窗口
* H : 当前窗口的首行
* M : 当前窗口的中间
* L : 当前窗口的尾行
* ctrl-b : 等效于pgup,b-backword
* ctrl-f : 等效于pgdn,f-forward
* ctrl-u : 上翻半页
* ctrl-d : 下翻半页 

## 单词/句/段落
* w : 下一个单词词首
* e : 下一个单词词尾
* b : 前一个单词的词首
* ge : 前一个单词的词尾
* t : 到下一个字符前
* f : 到下一个字符
* T : 到前一个字符前
* F : 到前一个字符

* 0 : 行首

* ) : 下一句
* ( : 上一句
* } : 下一段
* } : 上一段

* H: 把光标移到屏幕最顶端一行。
* M: 把光标移到屏幕中间一行。
* L: 把光标移到屏幕最底端一行。

* zz: 将当前行移动到屏幕中央。
* zt: 将当前行移动到屏幕顶端。
* zb: 将当前行移动到屏幕底端。



## 跳转
* ctrl-o : 视图前进
* ctrl-i : 视图后退
* % 跳转到相配对的括号
* [[ 跳转至上一个函数(要求代码块中'{'必须单独占一行)
* ]] 跳转至下一个函数(要求代码块中'{'必须单独占一行)



## 替换
* :s/old/new  把当前行old的第一次出现修改为new
* :s/old/new/g  把当前行old的每次出现改为new
* :nu1,nu2 s/old/new/g  替换指定行nu1,nu2之间的内容
* :%s/old/new/g 替换全文
* :s/old/new/gc  每一处替换都会提醒confirm
* :g/pattern/s/old/new/g 利用正则进行全文替换
* :g/pattern/cmd  在搜索到的行上执行cmd命令


## 缩进
* \> 增加缩进
* < 减小缩进
* n> 以下n行增加缩进
* n< 以下n行减小缩进


## 常识
* ctrl-s 意,'阻止向终端输出',误按此键会使vim进入假死状态
* ctrl-q 意,'恢复向终端输出',可解除上述假死状态

* :1，12!sort -r -n -k4.1,5
* :%!sort -r -n -k2

* A : 行尾插入
* I : 行首插入

* operator [number] motion


* nG:第n行
* n:重复上次动作,向下
* N:重复上次动作,向上

* fc: 把光标移到同一行的下一个c字符处
* Fc: 把光标移到同一行的上一个c字符处
* tc: 把光标移到同一行的下一个c字符前
* Tc: 把光标移到同一行的上一个c字符后
* ;: 配合f & t使用，重复一次
* ,: 配合f & t使用，反向重复一次



* ~:大小写翻转
* gu/gU:改变大小写
* u/U:可视模式改变大小写


* .:重复上一个编辑动作








## 


同时显示多个文件：
:split
:vsplit

在文件之间切换：
1.文件间切换
Ctrl+6—下一个文件
:bn—下一个文件
:bp—上一个文件
对于用(v)split在多个窗格中打开的文件，这种方法只会在当前窗格中切换不同的文件。
2.在窗格间切换的方法
Ctrl+w+方向键——切换到前／下／上／后一个窗格
Ctrl+w+h/j/k/l ——同上
Ctrl+ww——依次向后切换到下一个窗格中


## g v

* 该命令分为两步,可以分开做,也可以一起做
1.先标记选中
2.再在选中行上操作

* qaq: 清空寄存器a
* :g//yank A :将上次选中追加到a寄存器(小a是覆盖)
* :g//t$:将上次选中的内容直接复制到文本结尾






## 操作缓冲区的Ex命令
* :[range]delete [x]
* :[range]yank [x]
* :[range]put [x]
* :[range]copy {address}
* :[range]move {address}
* :[range]join
* :[range]normal {commands}



1.用pattern选中
2.用g//normal {command}执行








`` :上次跳转动作前的位置
`.:上次修改过的位置
`^:上次插入过的位置
`[:上次修改或复制的开始位置
`]:上次修改或复制的结束位置
'<:上次高亮选区的开始位置
'>:上次高亮选区的结束位置




#
<c-u>:
<c-h>:
<c-w>:

c-o

v
V
<c-v>
gv


o




\v :very magic 任何元字符都不用加反斜杠
\V  : very nomagic 任何元字符都必须加反斜杠



:%s/^.*pattern.*$/\1/g




































